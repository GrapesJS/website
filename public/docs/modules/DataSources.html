<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data Sources | GrapesJS</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/docs/logo-icon.png">
    <link rel="stylesheet" href="https://grapesjs.com/assets/styles/grapesjs/grapes.min.css?0.21.14">
    <script src="https://grapesjs.com/assets/scripts/grapesjs/grapes.min.js?0.21.14"></script>
    <meta name="description" content="GrapesJS documentation">
    
    <link rel="preload" href="/docs/assets/css/0.styles.20b95cd0.css" as="style"><link rel="preload" href="/docs/assets/js/app.6995edd9.js" as="script"><link rel="preload" href="/docs/assets/js/4.79b63ce0.js" as="script"><link rel="preload" href="/docs/assets/js/2.42c234e0.js" as="script"><link rel="preload" href="/docs/assets/js/1.dc634078.js" as="script"><link rel="preload" href="/docs/assets/js/92.c3cc0021.js" as="script"><link rel="prefetch" href="/docs/assets/js/100.07ffc70f.js"><link rel="prefetch" href="/docs/assets/js/101.21d622fb.js"><link rel="prefetch" href="/docs/assets/js/12.e3b4a47d.js"><link rel="prefetch" href="/docs/assets/js/13.bed9a590.js"><link rel="prefetch" href="/docs/assets/js/14.9a26c390.js"><link rel="prefetch" href="/docs/assets/js/15.e31b4b81.js"><link rel="prefetch" href="/docs/assets/js/16.36dc8280.js"><link rel="prefetch" href="/docs/assets/js/17.f6b33cad.js"><link rel="prefetch" href="/docs/assets/js/18.ecc5b61d.js"><link rel="prefetch" href="/docs/assets/js/19.f10447f3.js"><link rel="prefetch" href="/docs/assets/js/20.eccc616f.js"><link rel="prefetch" href="/docs/assets/js/21.ead99e4c.js"><link rel="prefetch" href="/docs/assets/js/22.75bfd18f.js"><link rel="prefetch" href="/docs/assets/js/23.566d50a8.js"><link rel="prefetch" href="/docs/assets/js/24.4f0006e1.js"><link rel="prefetch" href="/docs/assets/js/25.33cf1ff8.js"><link rel="prefetch" href="/docs/assets/js/26.e53cfcf2.js"><link rel="prefetch" href="/docs/assets/js/27.9d0ba75c.js"><link rel="prefetch" href="/docs/assets/js/28.eb929f9d.js"><link rel="prefetch" href="/docs/assets/js/29.9fefd918.js"><link rel="prefetch" href="/docs/assets/js/3.02559d4f.js"><link rel="prefetch" href="/docs/assets/js/30.0ee3d31c.js"><link rel="prefetch" href="/docs/assets/js/31.778fa825.js"><link rel="prefetch" href="/docs/assets/js/32.4aa67cfa.js"><link rel="prefetch" href="/docs/assets/js/33.29a0e5ac.js"><link rel="prefetch" href="/docs/assets/js/34.882a9868.js"><link rel="prefetch" href="/docs/assets/js/35.ba57f430.js"><link rel="prefetch" href="/docs/assets/js/36.e286d4e8.js"><link rel="prefetch" href="/docs/assets/js/37.0adbfdb8.js"><link rel="prefetch" href="/docs/assets/js/38.04cb747d.js"><link rel="prefetch" href="/docs/assets/js/39.9ee3d23f.js"><link rel="prefetch" href="/docs/assets/js/40.225a6015.js"><link rel="prefetch" href="/docs/assets/js/41.0643255d.js"><link rel="prefetch" href="/docs/assets/js/42.9f558b70.js"><link rel="prefetch" href="/docs/assets/js/43.a29ce12f.js"><link rel="prefetch" href="/docs/assets/js/44.e79d1401.js"><link rel="prefetch" href="/docs/assets/js/45.a5402c3d.js"><link rel="prefetch" href="/docs/assets/js/46.98416463.js"><link rel="prefetch" href="/docs/assets/js/47.26021699.js"><link rel="prefetch" href="/docs/assets/js/48.1e4861b5.js"><link rel="prefetch" href="/docs/assets/js/49.536ecd38.js"><link rel="prefetch" href="/docs/assets/js/5.7ce9cfc2.js"><link rel="prefetch" href="/docs/assets/js/50.a50d87b5.js"><link rel="prefetch" href="/docs/assets/js/51.b0439391.js"><link rel="prefetch" href="/docs/assets/js/52.528b203f.js"><link rel="prefetch" href="/docs/assets/js/53.a6c8fa21.js"><link rel="prefetch" href="/docs/assets/js/54.698a79b1.js"><link rel="prefetch" href="/docs/assets/js/55.db8544d9.js"><link rel="prefetch" href="/docs/assets/js/56.65f56439.js"><link rel="prefetch" href="/docs/assets/js/57.8c96e990.js"><link rel="prefetch" href="/docs/assets/js/58.b9e3a73b.js"><link rel="prefetch" href="/docs/assets/js/59.b294fdde.js"><link rel="prefetch" href="/docs/assets/js/6.d98ea26a.js"><link rel="prefetch" href="/docs/assets/js/60.26dc1133.js"><link rel="prefetch" href="/docs/assets/js/61.d3869166.js"><link rel="prefetch" href="/docs/assets/js/62.007c4a6d.js"><link rel="prefetch" href="/docs/assets/js/63.3d7a0c5f.js"><link rel="prefetch" href="/docs/assets/js/64.1ae85452.js"><link rel="prefetch" href="/docs/assets/js/65.953aa91d.js"><link rel="prefetch" href="/docs/assets/js/66.5b5f5a71.js"><link rel="prefetch" href="/docs/assets/js/67.7ec36599.js"><link rel="prefetch" href="/docs/assets/js/68.e8c55111.js"><link rel="prefetch" href="/docs/assets/js/69.78016e06.js"><link rel="prefetch" href="/docs/assets/js/7.983124af.js"><link rel="prefetch" href="/docs/assets/js/70.903bf427.js"><link rel="prefetch" href="/docs/assets/js/71.78b0c9f0.js"><link rel="prefetch" href="/docs/assets/js/72.82aa4ac9.js"><link rel="prefetch" href="/docs/assets/js/73.3e4bb0fb.js"><link rel="prefetch" href="/docs/assets/js/74.725725d6.js"><link rel="prefetch" href="/docs/assets/js/75.f3506d2e.js"><link rel="prefetch" href="/docs/assets/js/76.66bdce61.js"><link rel="prefetch" href="/docs/assets/js/77.3fd70fd6.js"><link rel="prefetch" href="/docs/assets/js/78.c3a2cd65.js"><link rel="prefetch" href="/docs/assets/js/79.15855eca.js"><link rel="prefetch" href="/docs/assets/js/8.a533fd28.js"><link rel="prefetch" href="/docs/assets/js/80.496c3bda.js"><link rel="prefetch" href="/docs/assets/js/81.db64afa1.js"><link rel="prefetch" href="/docs/assets/js/82.d605cc64.js"><link rel="prefetch" href="/docs/assets/js/83.777aecdb.js"><link rel="prefetch" href="/docs/assets/js/84.c1d39fa1.js"><link rel="prefetch" href="/docs/assets/js/85.e001ebcd.js"><link rel="prefetch" href="/docs/assets/js/86.17511909.js"><link rel="prefetch" href="/docs/assets/js/87.7f67b1c3.js"><link rel="prefetch" href="/docs/assets/js/88.393a601d.js"><link rel="prefetch" href="/docs/assets/js/89.bb181020.js"><link rel="prefetch" href="/docs/assets/js/9.a889f466.js"><link rel="prefetch" href="/docs/assets/js/90.8f4a01ad.js"><link rel="prefetch" href="/docs/assets/js/91.ffe23e73.js"><link rel="prefetch" href="/docs/assets/js/93.6d32c6b6.js"><link rel="prefetch" href="/docs/assets/js/94.8fdde2db.js"><link rel="prefetch" href="/docs/assets/js/95.e74a9369.js"><link rel="prefetch" href="/docs/assets/js/96.6d6ec10f.js"><link rel="prefetch" href="/docs/assets/js/97.4f4b8509.js"><link rel="prefetch" href="/docs/assets/js/98.64d6faa3.js"><link rel="prefetch" href="/docs/assets/js/99.478316da.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.47f1070f.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.20b95cd0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/logo.png" alt="GrapesJS" class="logo"> <span class="site-name can-hide">GrapesJS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/docs/api/" class="nav-link">
  API Reference
</a></div><div class="nav-item"><a href="https://opencollective.com/grapesjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support Us
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/grapesjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/artf/grapesjs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/docs/api/" class="nav-link">
  API Reference
</a></div><div class="nav-item"><a href="https://opencollective.com/grapesjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support Us
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/grapesjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/artf/grapesjs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div id="native-carbon" class="carbon-ads"></div> <ul class="sidebar-links"><li><a href="/docs/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/docs/getting-started.html" class="sidebar-link">Getting Started</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Modules</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/modules/Components.html" class="sidebar-link">Components</a></li><li><a href="/docs/modules/Components-js.html" class="sidebar-link">Components &amp; JS</a></li><li><a href="/docs/modules/Traits.html" class="sidebar-link">Traits</a></li><li><a href="/docs/modules/Blocks.html" class="sidebar-link">Blocks</a></li><li><a href="/docs/modules/Assets.html" class="sidebar-link">Assets</a></li><li><a href="/docs/modules/Commands.html" class="sidebar-link">Commands</a></li><li><a href="/docs/modules/I18n.html" class="sidebar-link">I18n</a></li><li><a href="/docs/modules/Selectors.html" class="sidebar-link">Selectors</a></li><li><a href="/docs/modules/Layers.html" class="sidebar-link">Layers</a></li><li><a href="/docs/modules/Pages.html" class="sidebar-link">Pages</a></li><li><a href="/docs/modules/Style-manager.html" class="sidebar-link">Style Manager</a></li><li><a href="/docs/modules/Storage.html" class="sidebar-link">Storage Manager</a></li><li><a href="/docs/modules/Modal.html" class="sidebar-link">Modal</a></li><li><a href="/docs/modules/Plugins.html" class="sidebar-link">Plugins</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Guides</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/guides/Symbols.html" class="sidebar-link">Symbols</a></li><li><a href="/docs/guides/Replace-Rich-Text-Editor.html" class="sidebar-link">Replace Rich Text Editor</a></li><li><a href="/docs/guides/Custom-CSS-parser.html" class="sidebar-link">Use Custom CSS Parser</a></li><li><a href="/docs/guides/Telemetry.html" class="sidebar-link">GrapesJS Telemetry</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="datasources"><a href="#datasources" class="header-anchor">#</a> DataSources</h1> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p><strong>DataSources</strong> are a powerful feature in GrapesJS that allow you to manage and inject data into your components, styles, and traits programmatically. They help you bind dynamic data to your design elements and keep your user interface synchronized with underlying data models.</p> <h3 id="key-concepts"><a href="#key-concepts" class="header-anchor">#</a> Key Concepts</h3> <ol><li><strong>DataSource</strong>: A static object with records that can be used throughout GrapesJS.</li> <li><strong>ComponentDataVariable</strong>: A type of data variable that can be used within components to inject dynamic values.</li> <li><strong>StyleDataVariable</strong>: A data variable used to bind CSS properties to values in your DataSource.</li> <li><strong>TraitDataVariable</strong>: A data variable used in component traits to bind data to various UI elements.</li> <li><strong>Transformers</strong>: Methods for validating and transforming data records in a DataSource.</li></ol> <h2 id="creating-and-adding-datasources"><a href="#creating-and-adding-datasources" class="header-anchor">#</a> Creating and Adding DataSources</h2> <p>To start using DataSources, you need to create them and add them to GrapesJS.</p> <p><strong>Example: Creating and Adding a DataSource</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> editor <span class="token operator">=</span> grapesjs<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token operator">:</span> <span class="token string">'#gjs'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> datasource <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">'my-datasource'</span><span class="token punctuation">,</span>
  records<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'id1'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'Hello World'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'id2'</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

editor<span class="token punctuation">.</span>DataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>datasource<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="using-datasources-with-components"><a href="#using-datasources-with-components" class="header-anchor">#</a> Using DataSources with Components</h2> <p>You can reference DataSources within your components to dynamically inject data.</p> <p><strong>Example: Using DataSources with Components</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code>editor<span class="token punctuation">.</span><span class="token function">addComponents</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'h1'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'data-variable'</span><span class="token punctuation">,</span>
        defaultValue<span class="token operator">:</span> <span class="token string">'default'</span><span class="token punctuation">,</span>
        path<span class="token operator">:</span> <span class="token string">'my-datasource.id1.content'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In this example, the <code>h1</code> component will display &quot;Hello World&quot; by fetching the content from the DataSource with the path <code>my-datasource.id1.content</code>.</p> <h2 id="using-datasources-with-styles"><a href="#using-datasources-with-styles" class="header-anchor">#</a> Using DataSources with Styles</h2> <p>DataSources can also be used to bind data to CSS properties.</p> <p><strong>Example: Using DataSources with Styles</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code>editor<span class="token punctuation">.</span><span class="token function">addComponents</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'h1'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'data-variable'</span><span class="token punctuation">,</span>
        defaultValue<span class="token operator">:</span> <span class="token string">'default'</span><span class="token punctuation">,</span>
        path<span class="token operator">:</span> <span class="token string">'my-datasource.id1.content'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> <span class="token punctuation">{</span>
      color<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'data-variable'</span><span class="token punctuation">,</span>
        defaultValue<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
        path<span class="token operator">:</span> <span class="token string">'my-datasource.id2.color'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Here, the <code>h1</code> component's color will be set to red, as specified in the DataSource at <code>my-datasource.id2.color</code>.</p> <h2 id="using-datasources-with-traits"><a href="#using-datasources-with-traits" class="header-anchor">#</a> Using DataSources with Traits</h2> <p>Traits are used to bind DataSource values to component properties, such as input fields.</p> <p><strong>Example: Using DataSources with Traits</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> datasource <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">'my-datasource'</span><span class="token punctuation">,</span>
  records<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'id1'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">'I Love Grapes'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
editor<span class="token punctuation">.</span>DataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>datasource<span class="token punctuation">)</span><span class="token punctuation">;</span>

editor<span class="token punctuation">.</span><span class="token function">addComponents</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
    traits<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'name'</span><span class="token punctuation">,</span>
      <span class="token string">'type'</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">'Value'</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
        value<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">'data-variable'</span><span class="token punctuation">,</span>
          defaultValue<span class="token operator">:</span> <span class="token string">'default'</span><span class="token punctuation">,</span>
          path<span class="token operator">:</span> <span class="token string">'my-datasource.id1.value'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In this case, the value of the input field is bound to the DataSource value at <code>my-datasource.id1.value</code>.</p> <h2 id="datasource-transformers"><a href="#datasource-transformers" class="header-anchor">#</a> DataSource Transformers</h2> <p>Transformers in DataSources allow you to customize how data is processed during various stages of interaction with the data. The primary transformer functions include:</p> <h3 id="_1-onrecordsetvalue"><a href="#_1-onrecordsetvalue" class="header-anchor">#</a> 1. <code>onRecordSetValue</code></h3> <p>This transformer is invoked when a record's property is added or updated. It provides an opportunity to validate or transform the new value.</p> <h4 id="example-usage"><a href="#example-usage" class="header-anchor">#</a> Example Usage</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> testDataSource <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'test-data-source'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">records</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">transformers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">onRecordSetValue</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> id<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">!==</span> <span class="token string">'content'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">!==</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Value must be a string'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>In this example, the <code>onRecordSetValue</code> transformer ensures that the <code>content</code> property is always an uppercase string.</p> <h2 id="storing-datasources-in-project-json"><a href="#storing-datasources-in-project-json" class="header-anchor">#</a> Storing DataSources in Project JSON</h2> <p>GrapesJS allows you to control whether a DataSource should be stored statically in the project JSON. This is useful for managing persistent data across project saves and loads.</p> <h3 id="using-the-skipfromstorage-key"><a href="#using-the-skipfromstorage-key" class="header-anchor">#</a> Using the <code>skipFromStorage</code> Key</h3> <p>When creating a DataSource, you can use the <code>skipFromStorage</code> key to specify whether it should be included in the project JSON.</p> <p><strong>Example: Creating a DataSource with <code>skipFromStorage</code></strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> persistentDataSource <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">'persistent-datasource'</span><span class="token punctuation">,</span>
  records<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'id1'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'This data will be saved'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'id2'</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'blue'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

editor<span class="token punctuation">.</span>DataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>persistentDataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> temporaryDataSource <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">'temporary-datasource'</span><span class="token punctuation">,</span>
  records<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'id1'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'This data will not be saved'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  skipFromStorage<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

editor<span class="token punctuation">.</span>DataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>temporaryDataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In this example, <code>persistentDataSource</code> will be included in the project JSON when the project is saved, while <code>temporaryDataSource</code> will not.</p> <h3 id="benefits-of-using-skipfromstorage"><a href="#benefits-of-using-skipfromstorage" class="header-anchor">#</a> Benefits of Using <code>skipFromStorage</code></h3> <ol><li><strong>Persistent Configuration</strong>: Store configuration data that should persist across project saves and loads.</li> <li><strong>Default Data</strong>: Include default data that should always be available in the project.</li> <li><strong>Selective Storage</strong>: Choose which DataSources to include in the project JSON, optimizing storage and load times.</li></ol> <h3 id="accessing-stored-datasources"><a href="#accessing-stored-datasources" class="header-anchor">#</a> Accessing Stored DataSources</h3> <p>When a project is loaded, GrapesJS will automatically restore the DataSources that were saved. You can then access and use these DataSources as usual.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// After loading a project</span>
<span class="token keyword">const</span> loadedDataSource <span class="token operator">=</span> editor<span class="token punctuation">.</span>DataSources<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'persistent-datasource'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>loadedDataSource<span class="token punctuation">.</span><span class="token function">getRecord</span><span class="token punctuation">(</span><span class="token string">'id1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Outputs: &quot;This data will be saved&quot;</span>
</code></pre></div><p>Remember that DataSources with <code>skipFromStorage: true</code> will not be available after a project is loaded unless you add them programmatically.</p> <h2 id="record-mutability"><a href="#record-mutability" class="header-anchor">#</a> Record Mutability</h2> <p>DataSource records are mutable by default, but can be set as immutable to prevent modifications. Use the mutable flag when creating records to control this behavior.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> dataSource <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">'my-datasource'</span><span class="token punctuation">,</span>
  records<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'id1'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'Mutable content'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'id2'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'Immutable content'</span><span class="token punctuation">,</span> mutable<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


editor<span class="token punctuation">.</span>DataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ds <span class="token operator">=</span> editor<span class="token punctuation">.</span>DataSources<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'my-datasource'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ds<span class="token punctuation">.</span><span class="token function">getRecord</span><span class="token punctuation">(</span><span class="token string">'id1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span> <span class="token string">'Updated content'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Succeeds</span>
ds<span class="token punctuation">.</span><span class="token function">getRecord</span><span class="token punctuation">(</span><span class="token string">'id2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span> <span class="token string">'New content'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Throws error</span>
</code></pre></div><p>Immutable records cannot be modified or removed, ensuring data integrity for critical information.</p> <h2 id="benefits-of-using-datasources"><a href="#benefits-of-using-datasources" class="header-anchor">#</a> Benefits of Using DataSources</h2> <p>DataSources are integrated with GrapesJS's runtime and BackboneJS models, enabling dynamic updates and synchronization between your data and UI components. This allows you to:</p> <ol><li><strong>Inject Configuration</strong>: Manage and inject configuration settings dynamically.</li> <li><strong>Manage Global Themes</strong>: Apply and update global styling themes.</li> <li><strong>Mock &amp; Test</strong>: Use DataSources for testing and mocking data during development.</li> <li><strong>Integrate with Third-Party Services</strong>: Connect and synchronize with external data sources and services.</li></ol> <p><strong>Example: Using DataSources to Manage a Counter</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> datasource <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">'my-datasource'</span><span class="token punctuation">,</span>
  records<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'id1'</span><span class="token punctuation">,</span> counter<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

editor<span class="token punctuation">.</span>DataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>datasource<span class="token punctuation">)</span><span class="token punctuation">;</span>

editor<span class="token punctuation">.</span><span class="token function">addComponents</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'span'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'data-variable'</span><span class="token punctuation">,</span>
        defaultValue<span class="token operator">:</span> <span class="token string">'default'</span><span class="token punctuation">,</span>
        path<span class="token operator">:</span> <span class="token string">'my-datasource.id1.counter'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ds <span class="token operator">=</span> editor<span class="token punctuation">.</span>DataSources<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'my-datasource'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Incrementing counter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> counterRecord <span class="token operator">=</span> ds<span class="token punctuation">.</span><span class="token function">getRecord</span><span class="token punctuation">(</span><span class="token string">'id1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  counterRecord<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span> counter<span class="token operator">:</span> counterRecord<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'counter'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In this example, a counter is dynamically updated and displayed in the UI, demonstrating the real-time synchronization capabilities of DataSources.</p> <p><strong>Examples of How DataSources Could Be Used:</strong></p> <ol><li>Injecting configuration</li> <li>Managing global themes</li> <li>Mocking &amp; testing</li> <li>Third-party integrations</li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/artf/grapesjs/edit/dev/docs/modules/DataSources.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/24/2024, 10:21:20 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.6995edd9.js" defer></script><script src="/docs/assets/js/4.79b63ce0.js" defer></script><script src="/docs/assets/js/2.42c234e0.js" defer></script><script src="/docs/assets/js/1.dc634078.js" defer></script><script src="/docs/assets/js/92.c3cc0021.js" defer></script>
  </body>
</html>
